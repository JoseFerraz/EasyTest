@{
    ViewBag.Title = "Easy Communication and Technology | Talent Bank - Developers - Developer Edit";
}

<div class="container" ng-controller="developerEditCtrl" ng-init="getDeveloperTalent(@ViewContext.RouteData.Values["id"])">
    <div class="row">
        <div class="title-card">
            <h1>Developer Edit</h1>
        </div>

        <nav class="form-status">
            <ul class="form-steps">
                <li ng-class="{ 'current-step' : currentStep == 1 }">
                    <div ng-click="goToStep(1)"><i class="fas fa-2x fa-user"></i></div>
                    <span>Basic Information</span>
                </li>

                <li ng-class="{ 'current-step' : currentStep == 2 }">
                    <div ng-click="goToStep(2)"><i class="fas fa-2x fa-graduation-cap"></i></div>
                    <span>Knowledge</span>
                </li>

                <li ng-class="{ 'current-step' : currentStep == 3 }">
                    <div ng-click="goToStep(3)"><i class="fas fa-2x fa-cogs"></i></div>
                    <span>Additional Information</span>
                </li>

                <li ng-class="{ 'current-step' : currentStep == 4 }">
                    <div ng-click="goToStep(4)"><i class="fas fa-2x fa-university"></i></div>
                    <span>Bank Information</span>
                </li>
            </ul>
        </nav>

        <div class="form-description" ng-show="currentStep == 1">
            <h2>Basic Information</h2>
        </div>

        <div class="form-description" ng-show="currentStep == 2">
            <h2>Knowledge</h2>
        </div>

        <div class="form-description" ng-show="currentStep == 3">
            <h2>Additional Information</h2>
        </div>

        <div class="form-description" ng-show="currentStep == 4">
            <h2>Bank Information</h2>
        </div>

        <div class="col-xs-12 col-md-4 pull-right">
            <div class="validation-area">
                <p><span class="required-field">Mandatory</span></p>

                <div class="error-messages" ng-if="fullForm.commitFailed && currentStep == 1">
                    <div class="error-message" ng-if="developersForm.stepOne.$error.required">
                        Please enter the required information(s).
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.name.$error.required">
                        The name field is required.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.email.$error.required">
                        The e-mail field is required.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.email.$error.email">
                        Invalid email format.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.skype.$error.required">
                        The Skype field is required.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.whatsApp.$error.required">
                        The WhatsApp field is required.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.linkedIn.$error.pattern">
                        Enter the protocol prefix (http, https, etc) of your LinkedIn link.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.state.$error.required">
                        The state field is required.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepOne.city.$error.required">
                        The city field is required.
                    </div>
                </div>

                <div class="error-messages" ng-if="fullForm.commitFailed && currentStep == 2">
                    <div class="error-message" ng-if="developersForm.stepTwo.$error.required">
                        Please enter the required information(s).
                    </div>

                    <div class="error-message" ng-if="developersForm.stepTwo.testProjectLink.$error.pattern">
                        Enter the protocol prefix (http, https, etc) of the test project link.
                    </div>

                    <div class="error-message" ng-if="developersForm.stepTwo.portfolioLink.$error.pattern">
                        Enter the protocol prefix (http, https, etc) of the portfolio link.
                    </div>
                </div>

                <div class="error-messages" ng-if="fullForm.commitFailed && currentStep == 3">
                    <div class="error-message" ng-if="developersForm.stepThree.$error.required">
                        Please enter the required information(s).
                    </div>

                    <div class="error-message" ng-if="developersForm.stepThree.hourlySalaryPretension.$error.required">
                        Enter hourly salary pretension.
                    </div>
                </div>
            </div>
        </div>

        <div class="col-xs-12 col-md-8">
            <form name="fullForm">
                <fieldset ng-form="developersForm.stepOne" ng-show="currentStep == 1">
                    <p class="dynamic-field-description">Name <i class="fas fa-user"></i></p>
                    <div class="div-field required-field">
                        <input type="text" name="name" ng-model="developerTalent.name" ng-required="true" maxlength="80">
                        <span class="field-label">Name <i class="fas fa-user"></i></span>
                    </div>

                    <p class="dynamic-field-description">E-mail <i class="far fa-envelope"></i></p>
                    <div class="div-field required-field">
                        <input type="email" name="email" ng-model="developerTalent.email" ng-required="true" maxlength="80">
                        <span class="field-label">E-mail <i class="far fa-envelope"></i></span>
                    </div>

                    <p class="dynamic-field-description">Skype <i class="fab fa-skype"></i></p>
                    <div class="div-field required-field">
                        <input type="text" name="skype" ng-model="developerTalent.skype" ng-required="true" maxlength="80">
                        <span class="field-label">Skype <i class="fab fa-skype"></i></span>
                    </div>

                    <p class="dynamic-field-description">WhatsApp <i class="fab fa-whatsapp"></i></p>
                    <div class="div-field required-field">
                        <input type="text" name="whatsApp" ng-model="developerTalent.whatsApp" ng-required="true" maxlength="30">
                        <span class="field-label">WhatsApp <i class="fab fa-whatsapp"></i></span>
                    </div>

                    <p class="dynamic-field-description">Linked<i class="fab fa-linkedin"></i></p>
                    <div class="div-field">
                        <input type="text" name="linkedIn" ng-model="developerTalent.linkedIn" ng-pattern="/^http[s]*:\/\//" maxlength="80">
                        <span class="field-label">Linked<i class="fab fa-linkedin"></i></span>
                    </div>

                    <p class="dynamic-field-description">State <i class="fas fa-map-marker-alt"></i></p>
                    <div class="div-field required-field">
                        <input type="text" name="state" ng-model="developerTalent.state" ng-required="true" maxlength="80">
                        <span class="field-label">State <i class="fas fa-map-marker-alt"></i></span>
                    </div>

                    <p class="dynamic-field-description">City <i class="fas fa-map-marker-alt"></i></p>
                    <div class="div-field required-field">
                        <input type="text" name="city" ng-model="developerTalent.city" ng-required="true" maxlength="80">
                        <span class="field-label">City <i class="fas fa-map-marker-alt"></i></span>
                    </div>
                </fieldset>

                <fieldset ng-form="developersForm.stepTwo" ng-show="currentStep == 2">
                    <p class="field-description">Knowledge assessment from 0 to 5 for a given technology.</p>

                    <div class="level-selector" ng-repeat="technology in technologies">
                        <h3><span ng-class="{ 'required-field': technology.required } ">{{ technology.name }}</span></h3>

                        <label ng-repeat="level in technologyLevels">
                            <input type="radio" ng-model="$parent.developerTalent.knowledge.technologies[technology.id]" ng-value="level" ng-required="technology.required">
                            <span>{{ level }}</span>
                        </label>

                        <div class="level-bar">
                            <div class="level" ng-class="{ [ 'level-' + developerTalent.knowledge.technologies[technology.id] ] : developerTalent.knowledge.technologies[technology.id] }"></div>
                        </div>
                    </div>

                    <p class="field-description">Other knowledges in technology.</p>
                    <div class="div-field">
                        <textarea class="no-field-label" ng-model="developerTalent.knowledge.technologies.other" maxlength="500"></textarea>
                    </div>

                    <p class="field-description"><span class="required-field">Spoken</span> languages.</p>
                    <label class="check" ng-repeat="option in languages">
                        <input type="checkbox" ng-model="developerTalent.knowledge.languages[option.id]" ng-required="!developerTalent.knowledge.languages">
                        <span class="check-mark"></span>
                        <span class="choice-description">{{ option.description }}</span>
                    </label>

                    <label class="check pull-left">
                        <input type="checkbox" ng-model="developerTalent.knowledge.languages.more" ng-click="developerTalent.knowledge.languages.other = null">
                        <span class="check-mark"></span>
                        <span class="choice-description">Other</span>
                    </label>
                    <div class="div-field" ng-if="developerTalent.knowledge.languages.more">
                        <textarea class="no-field-label" ng-model="developerTalent.knowledge.languages.other" ng-required="true" maxlength="500"></textarea>
                    </div>

                    <p class="field-description">Test project link.</p>
                    <div class="div-field">
                        <input type="text" class="no-field-label" name="testProjectLink" ng-model="developerTalent.testProjectLink" ng-pattern="/^http[s]*:\/\//" maxlength="80">
                    </div>

                    <p class="dynamic-field-description">Portfolio (Link) <i class="fas fa-briefcase"></i></p>
                    <div class="div-field">
                        <input type="text" name="portfolioLink" ng-model="developerTalent.portfolioLink" ng-pattern="/^http[s]*:\/\//" maxlength="80">
                        <span class="field-label">Portfolio (Link) <i class="fas fa-briefcase"></i></span>
                    </div>
                </fieldset>

                <fieldset ng-form="developersForm.stepThree" ng-show="currentStep == 3">
                    <p class="field-description"><span class="required-field">Availability</span> to work currently.</p>
                    <label class="check" ng-repeat="option in weeklyAvailability">
                        <input type="checkbox" ng-model="developerTalent.additionalInformation.weeklyAvailability[option.id]" ng-required="!developerTalent.additionalInformation.weeklyAvailability">
                        <span class="check-mark"></span>
                        <span class="choice-description">{{ option.description }}</span>
                    </label>

                    <p class="field-description"><span class="required-field">Best</span> time to work.</p>
                    <label class="check" ng-repeat="option in preferredPeriod">
                        <input type="checkbox" ng-model="developerTalent.additionalInformation.preferredPeriod[option.id]" ng-required="!developerTalent.additionalInformation.preferredPeriod">
                        <span class="check-mark"></span>
                        <span class="choice-description">{{ option.description }}</span>
                    </label>

                    <p class="field-description">Hourly salary requirement.</p>
                    <div class="div-field required-field">
                        <input type="text" class="no-field-label" name="hourlySalaryPretension" ng-model="developerTalent.additionalInformation.hourlySalaryPretension" ng-required="true" maxlength="20">
                    </div>
                </fieldset>

                <fieldset ng-form="developersForm.stepFour" ng-show="currentStep == 4">
                    <p class="dynamic-field-description">Name <i class="fa fa-user"></i></p>
                    <div class="div-field">
                        <input type="text" ng-model="developerTalent.bankInformation.name" maxlength="80">
                        <span class="field-label">Name <i class="fa fa-user"></i></span>
                    </div>

                    <p class="field-description">CPF (Only for Brazilians)</p>
                    <div class="div-field">
                        <input type="text" class="no-field-label" ng-model="developerTalent.bankInformation.cpf" maxlength="30">
                    </div>

                    <p class="field-description">Bank</p>
                    <div class="div-field">
                        <input type="text" class="no-field-label" ng-model="developerTalent.bankInformation.bank" maxlength="30">
                    </div>

                    <p class="field-description">Agency</p>
                    <div class="div-field">
                        <input type="text" class="no-field-label" ng-model="developerTalent.bankInformation.agency" maxlength="30">
                    </div>

                    <p class="field-description">Account Type</p>
                    <label class="check">
                        <input type="checkbox" ng-model="developerTalent.bankInformation.chainAccount">
                        <span class="check-mark"></span>
                        <span class="choice-description">Chain</span>
                    </label>

                    <label class="check">
                        <input type="checkbox" ng-model="developerTalent.bankInformation.savingsAccount">
                        <span class="check-mark"></span>
                        <span class="choice-description">Savings</span>
                    </label>

                    <p class="field-description">Account Number</p>
                    <div class="div-field">
                        <input type="text" class="no-field-label" ng-model="developerTalent.bankInformation.accountNumber" maxlength="30">
                    </div>

                    <p class="field-description">Other Information</p>
                    <div class="div-field">
                        <textarea class="no-field-label" ng-model="developerTalent.bankInformation.otherInformation" maxlength="500"></textarea>
                    </div>
                </fieldset>

                <div class="form-buttons">
                    <a class="form-button form-button-back pull-left" href="/talent-bank/developers">Cancel</a>
                    <button type="button" class="form-button form-button-send pull-right" ng-click="putDeveloperTalent(developerTalent)">Save Changes</button>
                </div>
            </form>
        </div>
    </div>

    <button type="button" class="goToTop" ng-click="goToTop()"><i class="fas fa-chevron-circle-up"></i></button>
</div>